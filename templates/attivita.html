{% extends "base.html" %}
{% block title %}Attivit√† Programmate{% endblock %}

{% block content %}

<style>
    .attivita-container {
        max-width: 1300px; /* +20% */
        margin: auto;
        margin-top: 70px; /* +20% */
        padding: 60px; /* +20% */
        background: #ffffffee;
        border-radius: 26px; /* +20% */
        box-shadow: 0 10px 36px rgba(0,0,0,0.28);
    }

    .attivita-title {
        font-size: 3.3rem; /* +20% */
        font-weight: 900;
        text-align: center;
        margin-bottom: 50px; /* +20% */
        color: #002b5c;
    }

    .table-attivita th {
        background: #002b5c;
        color: white;
        font-size: 1.55rem; /* +20% */
        text-align: center;
        padding: 18px; /* +20% */
    }

    .table-attivita td {
        font-size: 1.55rem; /* +20% */
        vertical-align: middle;
        text-align: center;
        padding: 18px; /* +20% */
    }

    .badge {
        font-size: 1.32rem; /* +20% */
        padding: 12px 18px; /* +20% */
    }

    tbody tr:hover {
        background-color: #f0f6ff;
    }

    .info-footer {
        margin-top: 35px; /* +20% */
        font-size: 1.55rem; /* +20% */
        text-align: center;
        font-weight: 700;
        color: #002b5c;
    }
</style>

<div class="attivita-container">

    <div class="attivita-title">Attivit√† Programmate</div>

    <table class="table table-bordered table-attivita">
        <thead>
            <tr>
                <th>Attivit√†</th>
                <th>Data</th>
                <th>Stato</th>
            </tr>
        </thead>

        <tbody>
            {% for a in attivita %}
            <tr 
                onclick="window.location='/attivita/{{ a.attivita.replace(' ', '_').replace('/', '_').lower() }}'" 
                style="cursor:pointer;"
            >
                <td>{{ a.attivita }}</td>

                <!-- Conversione data da AAAA-MM-GG a GG/MM/AAAA -->
                <td>
                    {% set parts = a.data.split('-') %}
                    {{ parts[2] }}/{{ parts[1] }}/{{ parts[0] }}
                </td>

                <td>
                    <span class="badge bg-{{ a.colore }}">
                        {% if a.colore == "success" %}Lontana
                        {% elif a.colore == "warning" %}Prossima
                        {% elif a.colore == "danger" %}Urgente
                        {% else %}N/D{% endif %}
                    </span>
                </td>
            </tr>
            {% endfor %}
        </tbody>

    </table>

    <div class="info-footer">
        üëâ Clicca su una attivit√† per visualizzarla nei dettagli
    </div>

</div>

{% endblock %}