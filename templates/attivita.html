{% extends "base.html" %}
{% block title %}Attivit√† Programmate{% endblock %}

{% block content %}

<style>
    .attivita-container {
        max-width: 1100px;
        margin: auto;
        margin-top: 60px;
        padding: 50px;
        background: #ffffffee;
        border-radius: 22px;
        box-shadow: 0 8px 30px rgba(0,0,0,0.25);
    }

    .attivita-title {
        font-size: 2.8rem;
        font-weight: 900;
        text-align: center;
        margin-bottom: 40px;
        color: #002b5c;
    }

    .table-attivita th {
        background: #002b5c;
        color: white;
        font-size: 1.3rem;
        text-align: center;
    }

    .table-attivita td {
        font-size: 1.3rem;
        vertical-align: middle;
        text-align: center;
    }

    .badge {
        font-size: 1.1rem;
        padding: 10px 14px;
    }

    tbody tr:hover {
        background-color: #f0f6ff;
    }

    .info-footer {
        margin-top: 25px;
        font-size: 1.3rem;
        text-align: center;
        font-weight: 700;
        color: #002b5c;
    }
</style>

<div class="attivita-container">

    <div class="attivita-title">Attivit√† Programmate</div>

    <table class="table table-bordered table-attivita">
        <thead>
            <tr>
                <th>Attivit√†</th>
                <th>Data</th>
                <th>Stato</th>
            </tr>
        </thead>

        <tbody>
            {% for a in attivita %}
            <tr 
                onclick="window.location='/attivita/{{ a.attivita.replace(' ', '_').replace('/', '_').lower() }}'" 
                style="cursor:pointer;"
            >
                <td>{{ a.attivita }}</td>

                <!-- Conversione data da AAAA-MM-GG a GG/MM/AAAA -->
                <td>
                    {% set parts = a.data.split('-') %}
                    {{ parts[2] }}/{{ parts[1] }}/{{ parts[0] }}
                </td>

                <td>
                    <span class="badge bg-{{ a.colore }}">
                        {% if a.colore == "success" %}Lontana
                        {% elif a.colore == "warning" %}Prossima
                        {% elif a.colore == "danger" %}Urgente
                        {% else %}N/D{% endif %}
                    </span>
                </td>
            </tr>
            {% endfor %}
        </tbody>

    </table>

    <div class="info-footer">
        üëâ Clicca su una attivit√† per visualizzarla nei dettagli
    </div>

</div>

{% endblock %}